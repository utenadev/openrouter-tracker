# Ruff configuration
# See: https://docs.astral.sh/ruff/configuration/

# Assume Python 3.8.
target-version = "py38"

# Exclude a variety of commonly ignored directories.
exclude = [
    ".bzr",
    ".direnv",
    ".eggs",
    ".git",
    ".git-rewrite",
    ".hg",
    ".mypy_cache",
    ".nox",
    ".pants.d",
    ".pytype",
    ".ruff_cache",
    ".svn",
    ".tox",
    ".venv",
    "__pypackages__",
    "_build",
    "buck-out",
    "build",
    "dist",
    "node_modules",
    "venv",
]

[lint]
# Enable Pyflakes (`F`) and a subset of the pycodestyle (`E`)  codes by default.
# Unlike Flake8, Ruff doesn't enable pycodestyle warnings (`W`) or
# McCabe complexity (`C901`) by default.
select = [
    "E",   # pycodestyle errors
    "F",   # Pyflakes
    "W",   # pycodestyle warnings
    "I",   # isort
    "C90", # mccabe
    "B",   # flake8-bugbear
    "UP",  # pyupgrade
    "S",   # flake8-bandit
    "C4",  # flake8-comprehensions
    "T10", # flake8-debugger
    "EM",  # flake8-errmsg
    "ISC", # flake8-implicit-str-concat
    "ICN", # flake8-import-conventions
    "G",   # flake8-logging-format
    "PLC", # pylint-convention
    "PLE", # pylint-error
    "PLW", # pylint-warning
    "PT",  # flake8-pytest-style
    "Q",   # flake8-quotes
    "RUF", # Ruff-specific rules
]

# Allow unused variables when underscore-prefixed.
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"

# Ignore module level import errors for test files
[lint.per-file-ignores]
"tests/*" = ["E402"]

# Ignore shadowing of builtin names for dataclass fields
[lint.flake8-builtins]
builtins-ignorelist = ["id"]

# Exclude a variety of commonly ignored directories.

[lint.pycodestyle]
# Same as Black.
max-line-length = 88

[lint.isort]
# Force single-line imports for all imports.
force-single-line = true

[lint.flake8-quotes]
# Use double quotes for strings.
inline-quotes = "double"

[lint.flake8-bandit]
# Allow the use of `assert` statements.
hardcoded-tmp-directory = ["/tmp", "/var/tmp", "/dev/shm"]
